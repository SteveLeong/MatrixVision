(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(4),i=a.n(s),r=(a(14),a(1)),c=a(2),l=a(6),h=a(5),m=a(7),f=(a(16),function(){function e(t,a,n,o){Object(r.a)(this,e),this.x1=t,this.y1=a,this.speed1=n,this.first1=o,this.average=0}return Object(c.a)(e,[{key:"setRandomSymbol",value:function(e){var t=Math.floor(95*Math.random());this.value=e[t][1]}},{key:"setToVideoSymbol",value:function(e){this.value=e[this.average]}},{key:"getBrightness",value:function(e){for(var t=1,a=0,n=0;n<e.data.length;n+=4)a+=.2126*e.data[n]+.7152*e.data[n+1]+.0722*e.data[n+2],t++;return[a,t]}},{key:"animate",value:function(e){this.y1=this.y1>=e?0:this.y1+=this.speed1}}]),e}()),d=function(){function e(t,a){Object(r.a)(this,e),this.symbols=[],this.totalSymbols=t/a,this.speed=6*Math.random()+2,this.first=1===Math.round(3*Math.random())}return Object(c.a)(e,[{key:"generateSymbols",value:function(e,t,a,n){for(var o=0;o<=this.totalSymbols;o++){var s=new f(e,t,this.speed,this.first,n);s.setRandomSymbol(n),this.symbols.push(s),t-=a,this.first=!1}}},{key:"render",value:function(e,t){this.symbols.forEach(function(a){a.first?e.fillStyle="#09ff08":e.fillStyle="#00a800",e.fillText(a.value,a.x1,a.y1),a.animate(t)})}}]),e}(),u=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).setUp=function(){a.setUpVideo(a.video),a.getSymbols();for(var e=0,t=0;t<=a.canvas.width/a.sfontSize;t++){var n=new d(a.canvas.height,a.sfontSize);n.generateSymbols(e,Math.random()-500,a.sfontSize,a.symbolData),a.streams.push(n),e+=a.sfontSize}},a.setUpVideo=function(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(t){console.log(t),e.srcObject=t,e.play()}).catch(function(e){console.error("Please enable your webcam",e)})},a.getSymbols=function(){for(var e,t=0,n=0,o=10,s=0;s<96;s++){e=String.fromCharCode(12448+s),12*n+20>a.canvas.width&&(n=0,o+=10),t=12*n+20,a.ctx.fillText(e,t,o);for(var i=a.ctx.getImageData(t,o-10,7,a.sfontSize-1),r=0,c=0;c<i.data.length;c+=4)r+=i.data[c]+i.data[c+1]+i.data[c+2];var l=new Array(2);l[0]=r,l[1]=e,a.symbolData.push(l),n++}a.symbolData.sort(function(e,t){return e[0]-t[0]});for(var h=Math.floor(a.symbolData.length/a.symbols.length),m=0,f=0;f<a.symbols.length-1&&m<a.symbolData.length;f++)a.symbols[f]=a.symbolData[m][1],a.ctx.fillText(a.symbols[f],10*f+20,90),m+=h;a.symbols[a.symbols.length-1]=a.symbolData[a.symbolData.length-1][1]},a.paintToCanvas=function(){a.ctx.drawImage(a.video,0,0),a.matrixify(),requestAnimationFrame(a.paintToCanvas)},a.matrixify=function(){var e=a.canvas.height,t=a.ctx,n=a.symbols,o=a.sfontSize;a.streams.forEach(function(e){e.symbols.forEach(function(a){var s=t.getImageData(a.x1,a.y1,7,o),i=a.getBrightness(s),r=i[0]/i[1];a.average=Math.ceil(r/e.symbols.length),a.setToVideoSymbol(n)})}),t.clearRect(0,0,a.canvas.width,e),a.streams.forEach(function(a){a.render(t,e)})},a.takePhoto=function(){var e=a.canvas.toDataURL("image/jpeg");console.log(e);var t=document.createElement("a");t.href=e,t.setAttribute("download","matrix"),t.innerHTML='<img src="'.concat(e,'"/>'),a.strip.insertBefore(t,a.strip.firstChild)},a.sfontSize=11,a.symbols=new Array(25),a.symbolData=[],a.streams=[],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.video=this.refs.video,this.canvas=this.refs.canvas,this.ctx=this.canvas.getContext("2d"),this.ctx.font="11px monospace",this.ctx.fillStyle="#00BB00",this.strip=this.refs.strip,this.setUp()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"description"},"For my Final Project I decided to do an Interactive Artwork inspired by the movie 'Matrix'. In the movie, there is a scene where the main character sees 'code' in his vision, overlayed on top of reality. I thought it would be cool to recreate this effect using a webcam.",o.a.createElement("br",null),o.a.createElement("br",null),"Please Enable Your Webcam!"),o.a.createElement("div",null,"Make Sure Your Webcam is Enabled!"),o.a.createElement("div",{className:"controller"},o.a.createElement("button",{onClick:this.paintToCanvas},"Matrixify"),o.a.createElement("button",{onClick:this.takePhoto},"Take Photo")),o.a.createElement("canvas",{ref:"canvas",width:"640",height:"480",className:"canvas"}),o.a.createElement("video",{ref:"video",className:"video"}),o.a.createElement("div",{ref:"strip",className:"strip"}),o.a.createElement("div",{className:"footer"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(u,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.37cd790f.chunk.js.map